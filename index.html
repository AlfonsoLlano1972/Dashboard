<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Portal de Informes DFA ¬∑ Trivium</title>
<meta name="description" content="Acceso centralizado a informes financieros DFA publicados por Alfonso Llano." />
<style>
  :root{
    --bg:#f6f7fb; --card:#ffffff; --text:#1f2937; --muted:#6b7280; --brand:#0ea5e9; --brand-2:#22c55e; --ring:#93c5fd;
  }
  @media (prefers-color-scheme:dark){
    :root{ --bg:#0b1220; --card:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --brand:#38bdf8; --brand-2:#34d399; --ring:#2563eb; }
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
  header{
    position:relative; padding:56px 20px; overflow:hidden;
    background: radial-gradient(1200px 400px at 10% -10%, rgba(14,165,233,.20), transparent 60%),
               radial-gradient(900px 300px at 110% -10%, rgba(34,197,94,.18), transparent 60%),
               linear-gradient(180deg, rgba(255,255,255,0.00), rgba(0,0,0,0.02));
    border-bottom:1px solid rgba(148,163,184,.18);
  }
  .container{max-width:1100px;margin:0 auto;padding:0 20px}
  h1{margin:0 0 8px;font-size:clamp(28px,3.2vw,40px);letter-spacing:.2px}
  .lead{margin:0;color:var(--muted);font-size:clamp(14px,1.6vw,16px)}
  .toolbar{
    display:grid;grid-template-columns:1fr 180px 160px;gap:12px; margin:26px 0 0;
  }
  .input, .select{
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid rgba(148,163,184,.35);
    outline:0; background:var(--card); color:var(--text)
  }
  .input:focus, .select:focus{ box-shadow:0 0 0 3px var(--ring); border-color:transparent }
  main{padding:26px 20px 60px}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  @media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr)} .toolbar{grid-template-columns:1fr 1fr 1fr} }
  @media (max-width:640px){ .grid{grid-template-columns:1fr} .toolbar{grid-template-columns:1fr} }
  .card{
    background:var(--card); border:1px solid rgba(148,163,184,.18); border-radius:16px; padding:18px; position:relative;
    transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  }
  .card:hover{ transform:translateY(-2px); box-shadow:0 10px 30px rgba(2,8,23,.15); border-color:rgba(148,163,184,.35) }
  .card h3{margin:2px 0 6px;font-size:18px}
  .meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px;margin-bottom:10px}
  .badge{padding:2px 8px;border-radius:999px;border:1px solid rgba(148,163,184,.35);font-size:12px}
  .actions{display:flex;gap:8px;margin-top:10px}
  .btn{
    appearance:none;border:0;cursor:pointer;padding:10px 12px;border-radius:12px;font-weight:600;
    background:var(--brand); color:#001018; text-decoration:none; display:inline-flex; align-items:center; gap:8px;
  }
  .btn.sec{ background:transparent; color:var(--text); border:1px dashed rgba(148,163,184,.35) }
  .empty{
    text-align:center;color:var(--muted);padding:50px;border:1px dashed rgba(148,163,184,.35);border-radius:16px;background:var(--card)
  }
  footer{color:var(--muted);text-align:center;padding:30px 12px}
  .icon{width:18px;height:18px;display:inline-block;vertical-align:-3px}
</style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Portal de Informes DFA</h1>
      <p class="lead">Acceso centralizado a los an√°lisis financieros publicados (GitHub Pages).</p>

      <!-- Herramientas: b√∫squeda + filtros -->
      <div class="toolbar">
        <input id="q" class="input" placeholder="üîé Buscar por t√≠tulo, mes, etiquetas‚Ä¶" />
        <select id="year" class="select">
          <option value="">üìÖ Todos los a√±os</option>
        </select>
        <select id="tag" class="select">
          <option value="">üè∑Ô∏è Todas las etiquetas</option>
        </select>
      </div>
    </div>
  </header>

  <main class="container">
    <div id="grid" class="grid"></div>
    <div id="empty" class="empty" style="display:none">No hay resultados con los filtros aplicados.</div>
  </main>

  <footer>
    ¬© 2025 Alfonso Llano ‚Äî Dashboard Financiero (Trivium)
  </footer>

<script>
/* === 1) LISTA DE INFORMES ====================================================
   A√±ade/edita informes aqu√≠. Solo cambia t√≠tulo, archivo, fecha y etiquetas.
   El campo "file" DEBE coincidir exactamente con el nombre subido al repo.   */
const reports = [
  {
    title: "Benchmarking DFA ‚Äî Junio 2025",
    file:  "Benchmarking_DFA_Jun_2025.html",
    date:  "2025-06-30",
    tags:  ["benchmarking","dfa","junio","2025"]
  },
  // EJEMPLOS DE C√ìMO A√ëADIR M√ÅS:
  // { title:"Benchmarking DFA ‚Äî Julio 2025", file:"Benchmarking_DFA_Jul_2025.html", date:"2025-07-31", tags:["benchmarking","dfa","julio","2025"] },
  // { title:"Informe especial ‚Äî M√°rgenes Q2", file:"Margenes_Q2_2025.html", date:"2025-08-15", tags:["m√°rgenes","Q2","2025"] },
];

/* === 2) UTILIDADES =========================================================== */
const fmtDate = iso => new Date(iso).toLocaleDateString('es-ES', { year:'numeric', month:'long', day:'2-digit' });
const byDateDesc = (a,b) => new Date(b.date) - new Date(a.date);

/* === 3) RELLENAR SELECTS ===================================================== */
const years = [...new Set(reports.map(r => new Date(r.date).getFullYear()))].sort((a,b)=>b-a);
const tags  = [...new Set(reports.flatMap(r => r.tags))].sort((a,b)=>a.localeCompare(b,'es'));

const yearSel = document.getElementById('year');
years.forEach(y => { const o=document.createElement('option'); o.value=y; o.textContent=`üìÖ ${y}`; yearSel.appendChild(o); });

const tagSel = document.getElementById('tag');
tags.forEach(t => { const o=document.createElement('option'); o.value=t; o.textContent=`üè∑Ô∏è ${t}`; tagSel.appendChild(o); });

/* === 4) RENDER =============================================================== */
const grid  = document.getElementById('grid');
const empty = document.getElementById('empty');
const query = document.getElementById('q');

function iconSvg(){
  return `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
           <path d="M3 3h18v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3z"/>
           <path d="M7 3v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V3"/>
         </svg>`;
}

function render(){
  const q = query.value.trim().toLowerCase();
  const y = yearSel.value;
  const t = tagSel.value;

  const filtered = reports
    .filter(r => !y || new Date(r.date).getFullYear().toString() === y)
    .filter(r => !t || r.tags.includes(t))
    .filter(r => {
      if(!q) return true;
      const hay = [r.title, r.file, r.tags.join(' ')].join(' ').toLowerCase();
      return hay.includes(q);
    })
    .sort(byDateDesc);

  grid.innerHTML = '';
  filtered.forEach(r => {
    const card = document.createElement('article');
    card.className = 'card';
    card.innerHTML = `
      <div class="meta">
        <span class="badge">${new Date(r.date).getFullYear()}</span>
        ${r.tags.slice(0,3).map(t=>`<span class="badge">${t}</span>`).join('')}
      </div>
      <h3>${r.title}</h3>
      <div class="meta">Publicado: ${fmtDate(r.date)} ¬∑ Archivo: ${r.file}</div>
      <div class="actions">
        <a class="btn" href="${r.file}" target="_blank" rel="noopener">
          ${iconSvg()} Abrir informe
        </a>
        <a class="btn sec" href="${r.file}" download>‚¨áÔ∏è Descargar</a>
      </div>`;
    grid.appendChild(card);
  });

  empty.style.display = filtered.length ? 'none' : 'block';
}

query.addEventListener('input', render);
yearSel.addEventListener('change', render);
tagSel.addEventListener('change', render);
render();
</script>
</body>
</html>
